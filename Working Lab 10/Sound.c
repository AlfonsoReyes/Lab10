// Sound.c
// Runs on any computer
// Sound assets based off the original Space Invaders 
// Import these constants into your SpaceInvaders.c for sounds!
// Jonathan Valvano
// November 17, 2014
#include <stdint.h>
#include "DAC.h"
#include "Timer1.h"
#include "tm4c123gh6pm.h"

uint32_t Index, repeat, length;
const uint8_t *array;

unsigned char Centipede_Beat[1304] = {8,7,7,7,7,7,7,7,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,14,14,14,
	14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,10,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
	14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,
	11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,6,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11
	,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,
	11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,8,8,8,8,8,8,8,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
	8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
	8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
	8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
	8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
	8,8,8,7,7,7,7,7,7,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
	6,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,6,6,6,6,6,6,6,
	6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,7,8};
	
unsigned char Centipede_Fire1[1848] = {8,12,2,11,11,11,2,2,13,4,2,11,11,13,13,2,2,2,2,4,4,2,11,2,4,5,13,2,11,13,11,2,13,5,13,2,2,2,13,13,13,13,2,13,5,13,13,5,
	13,11,13,2,3,13,12,3,13,4,13,13,4,2,2,2,2,11,2,11,2,2,11,11,2,4,13,11,2,13,11,11,2,2,2,13,13,13,13,4,13,11,11,13,12,13,4,12,2,2,11,13,2,11,4,13,13,12,2,2,2,
	2,12,3,13,2,3,13,4,4,2,13,13,2,11,13,4,4,2,2,13,13,13,13,11,11,13,4,13,11,10,2,13,4,2,4,12,2,10,2,13,13,13,2,2,2,2,13,2,10,2,2,10,2,11,2,13,12,2,3,12,2,11,2
	,2,11,13,13,13,13,4,13,4,13,13,4,5,13,2,13,4,2,13,13,13,11,2,3,13,2,13,13,13,13,13,4,13,13,4,2,13,2,11,5,13,2,4,13,4,2,2,2,13,13,4,13,2,2,2,2,3,13,2,2,11,12
	,2,13,11,4,4,13,13,2,4,13,13,13,2,2,4,4,13,13,13,13,13,4,13,13,11,2,11,2,2,13,4,4,2,13,13,2,2,2,13,13,13,4,4,2,2,2,2,4,4,2,2,13,11,11,13,2,13,4,13,4,2,13,13
	,13,4,2,2,13,4,13,13,13,13,13,4,13,13,2,2,11,2,11,3,13,2,4,13,4,2,2,4,13,12,3,13,2,2,2,2,2,13,2,2,11,12,2,13,11,11,4,13,13,2,4,13,13,13,2,2,11,4,13,13,13,13
	,13,3,13,13,11,2,11,2,2,12,2,11,10,3,12,3,1,1,10,3,1,1,1,1,1,11,0,12,12,12,1,1,1,5,14,13,4,5,13,5,5,3,12,5,3,12,14,14,4,14,14,14,14,14,14,3,12,1,1,2,11,11,11
	,10,1,10,12,3,10,2,9,11,1,12,11,1,1,1,12,3,4,4,4,4,5,13,5,14,14,12,4,4,3,12,14,5,3,12,4,14,4,4,11,1,1,11,11,12,0,12,11,11,11,11,10,2,10,1,1,10,11,11,11,1,1,
	14,14,4,14,3,14,15,3,14,15,4,4,5,13,3,4,4,3,3,12,5,12,14,11,1,1,1,1,11,11,1,1,12,1,12,1,2,10,1,2,11,11,10,10,12,12,14,14,14,6,14,4,4,4,14,14,14,15,3,3,14,15
	,5,13,5,14,13,5,13,13,13,13,13,2,2,2,2,12,2,11,13,4,2,4,13,13,13,2,3,13,2,12,2,2,2,11,11,2,4,13,2,2,2,2,2,2,11,13,13,13,11,4,11,2,2,13,12,2,2,2,11,13,4,4,12
	,4,13,13,13,2,13,12,2,11,13,13,13,13,13,11,2,2,2,2,13,3,13,13,4,2,4,13,13,13,2,2,13,2,12,2,2,2,11,4,2,4,11,2,2,2,2,2,3,13,13,13,13,11,3,11,2,2,13,13,2,2,2,13
	,13,4,11,11,4,13,13,13,2,13,12,3,13,13,13,13,13,13,11,2,2,2,2,13,3,13,13,4,2,11,13,13,11,2,2,13,2,13,2,2,2,11,4,2,4,11,2,2,2,2,2,2,13,13,13,13,4,11,11,2,4,13
	,13,2,2,2,11,11,2,2,3,13,13,13,13,13,13,13,4,2,4,13,2,13,13,4,4,13,13,2,2,11,13,13,13,2,11,4,4,13,13,13,13,4,4,13,13,12,2,2,2,2,2,2,2,11,13,13,2,13,2,2,4,13,
	2,2,13,13,11,2,2,2,13,4,4,11,2,2,2,2,11,11,2,2,2,11,13,13,13,13,13,13,4,2,2,13,2,13,13,11,2,13,13,2,2,4,13,13,12,2,11,11,2,13,13,13,13,11,2,13,13,13,4,2,2,2,
	2,2,2,4,13,13,2,13,4,2,4,13,2,2,11,13,11,2,2,2,11,4,4,13,2,2,2,2,4,13,2,2,2,11,13,13,13,13,13,13,11,2,2,13,2,11,13,13,2,13,13,4,2,2,13,13,13,4,4,11,2,13,13,4
	,2,3,13,13,11,3,13,4,2,2,2,2,4,13,13,13,13,13,13,13,4,2,13,13,4,4,13,13,13,11,2,13,4,4,13,12,2,2,2,2,13,13,13,2,2,11,11,3,13,13,13,13,13,4,2,2,2,2,2,2,3,13,4
	,2,2,13,4,2,2,2,11,11,2,13,4,2,2,13,13,13,13,2,2,11,13,12,2,11,11,2,2,2,2,2,13,13,13,13,13,13,13,13,3,13,13,13,2,13,13,13,12,2,11,11,2,13,13,11,2,2,2,4,13,13
	,2,2,2,12,2,11,13,13,13,13,11,2,2,2,2,2,2,2,4,13,2,2,11,13,2,2,2,4,12,2,11,11,2,2,11,13,13,12,2,2,2,13,13,4,2,12,2,2,2,2,2,11,13,13,13,13,13,13,13,13,13,13,2
	,2,3,13,4,2,13,13,11,2,13,13,12,2,2,2,13,13,13,13,2,4,12,2,11,13,13,13,13,12,2,4,13,13,13,13,2,2,2,2,2,2,2,2,11,13,13,4,2,12,2,2,3,13,4,2,2,11,13,13,2,2,2,2,
	11,13,2,11,13,2,2,2,2,2,11,13,2,2,2,2,13,13,13,13,13,13,13,13,13,2,2,4,12,2,11,13,13,4,2,13,13,11,2,2,11,13,13,13,13,2,13,11,3,13,13,13,13,13,13,3,13,13,13,13
	,11,2,2,2,2,2,2,2,2,13,13,13,2,11,13,2,2,4,12,2,2,2,13,13,13,2,2,2,2,13,11,2,13,4,2,2,2,2,3,13,11,2,2,2,2,13,13,13,13,13,13,13,13,4,2,3,13,13,2,2,2,13,4,2,13,
	13,12,2,2,2,2,2,2,2,2,2,11,13,13,13,13,2,4,13,13,13,13,13,11,2,11,13,2,11,13,13,13,13,2,2,3,13,13,12,2,4,13,13,13,2,11,13,2,2,2,13,13,13,13,13,13,13,13,13,4,2
	,2,2,2,13,4,2,2,2,2,2,4,12,2,4,13,4,2,2,2,2,13,13,13,2,2,3,13,11,2,2,4,13,4,2,13,13,13,2,2,2,2,2,2,2,2,3,13,13,13,13,13,2,11,13,13,13,13,13,11,3,13,11,3,13,13
	,13,13,13,2,2,2,13,13,13,2,4,13,13,11,3,13,11,2,2,2,13,13,13,13,13,13,13,13,12,2,2,2,2,4,13,4,2,2,2,2,2,11,12,2,4,12,2,2,2,2,2,2,4,12,2,2,2,2,2,2,2,13,11,3,13,
	13,2,2,2,2,2,13,13,12,2,2,2,11,13,2,2,2,11,13,2,2,13,13,12,2,2,2,2,2,2,2,2,2,2,13,13,13,13,13,2,4,13,13,13,13,13,13,4,3,13,11,2,11,13,13,13,13,4,2,2,4,13,13,13,
	2,4,13,13,13,2,4,13,4,2,2,4,13,13,13,13,13,13,13,13,13,11,2,2,2,2,4,13,4,2,2,2,2,2,2,13,11,2,13,13,2,2,2,2,2,13,13,12,2,2,2,4,12,2,2,2,4,12,2,2,13,13,13,2,2,2,
	2,2,2,2,2,2,3,13,13,13,13,12,2,2,13,13,13,13,13,13,4,2,13,13,2,11,13,13,13,13,4,2,2,2,13,13,13,2,2,2,2,2,11,12,2,2,13,13,13,13,13,13,13,13,13,13,11,2,11,13,13,
	13,13,13,2,2,2,11,12,2,2,2,4,13,4,2,13,12,2,2,2,4,13,13,12,2,2,2,2,2,2,3,13,13,13,13,13,11,2,11,13,2,2,2,2,2,2,2,2,2,2,2,13,11,2,2,2,2,2,13,13,13,4,2,11,13,13,
	13,2,4,13,4,2,13,13,13,11,2,2,2,11,13,13,13,13,13,13,4,2,2,2,2,4,13,11,2,11,13,13,13,13,13,13,13,13,13,13,2,4,13,13,13,13,12,2,2,2,4,13,4,2,2,2,13,13,2,4,13,4,
	2,2,2,13,13,13,4,2,2,2,2,2,2,4,13,13,13,13,13,2,4,13,4,2,2,2,2,2,2,2,2,7,7,7,7,7,7,7,7,8,8};

	


void Sound_Init(void){
	DAC_Init();
  Timer1_Init(Sound_Init, 7256);
	Index=0;
  length = 1304;
	array=  Centipede_Beat;
};
void Sound_Play(const uint8_t *pt, uint32_t count){
	Index=0;
  length = count;
	array= pt;
};
void Sound_Beat(void){
	
	
// repeat=1;
// Sound_Play(Centipede_Beat, 1304);
// previous=Centipede_Beat;
};
void Sound_Laser(void){
 Sound_Play(Centipede_Fire1, 1848);
};
void Sound_Explosion(void){
// write this
};

void Sound_Fastinvader1(void){
// write this
};
void Sound_Fastinvader2(void){
// write this
};
void Sound_Fastinvader3(void){
// write this
};
void Sound_Fastinvader4(void){
// write this
};
void Sound_Highpitch(void){
// write this
};
void Timer1A_Handler(void){
	TIMER1_ICR_R = TIMER_ICR_TATOCINT;// acknowledge TIMER1A timeout
  // (*PeriodicTask1)();                // execute user task

	if(Index==length){
		Sound_Play (Centipede_Beat, 1304);
	}
	DAC_Out(array[Index]);
	Index++;
}

